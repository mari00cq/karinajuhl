!function(e){"use strict";const n=e(document),s=e(window);e.fn.TopMenuMargin=function(){function n(){e(window).width();const n=e(".site-header");e("#main").css("paddingTop",n.outerHeight());e("#wpadminbar"),e(window).width(),e(window).height()}e(window).on("resize orientationchange",n),n()},e.fn.sideNav=function(){let o=!1;function i(){e(document.body).toggleClass("side-nav-open").addClass("side-nav-transitioning");const n=e("#slider").data("flexslider");n&&(e(document.body).hasClass("side-nav-open")?(o=n.playing,n.playing&&n.pause()):o&&n.play());let i=!1;e(".site").one("transitionend",function(){e(document.body).removeClass("side-nav-transitioning"),i=!0}),setTimeout(function(){i||e(document.body).removeClass("side-nav-transitioning"),s.trigger("resize")},230)}e(".navbar-toggle, .side-nav-overlay").on("click touchend",function(){e(document.body).hasClass("side-nav-transitioning")||(i(),e.fn.keepFocusInMobileSidebar())}),n.on("keyup",function(n){27===n.keyCode&&e(document.body).hasClass("side-nav-open")&&i()}),e(".side-nav__scrollable-container").on("touchstart",function(){const e=this.scrollTop;e<=0&&(this.scrollTop=1),e+this.offsetHeight>=this.scrollHeight&&(this.scrollTop=this.scrollHeight-this.offsetHeight-1)})},e.fn.sbSearch=function(){return n.on("keyup",function(n){27===n.keyCode&&e("#sb-search").hasClass("sb-search-open")&&e("#sb-search").removeClass("sb-search-open")}),this.each(function(){new UISearch(this)})},e.fn.keepFocusInSearchModal=function(){n.on("keydown",function(s){let o,i,t,a,c,d,l,r;e("#sb-search").hasClass("sb-search-open")&&(i="input, a, button",t=(o=n.find("#sb-search")).find(i),c=(t=Array.prototype.slice.call(t))[t.length-1],d=t[0],a=document.activeElement,l=9===s.keyCode,!(r=s.shiftKey)&&l&&c===a&&(s.preventDefault(),d.focus()),r&&l&&d===a&&(s.preventDefault(),c.focus()))})},e.fn.keepFocusInMobileSidebar=function(){n.on("keydown",function(s){let o,i,t,a,c,d,l,r;e(document.body).hasClass("side-nav-open")&&(i="input, a, button",t=(o=n.find("aside#side-nav")).find(i),c=(t=Array.prototype.slice.call(t))[t.length-1],d=t[0],a=document.activeElement,l=9===s.keyCode,!(r=s.shiftKey)&&l&&c===a&&(s.preventDefault(),d.focus()),r&&l&&d===a&&(s.preventDefault(),c.focus()))})},e(function(){e.fn.sideNav(),e("#sb-search").sbSearch(),e.fn.keepFocusInSearchModal(),e(".sf-menu").superfish({speed:"fast",animation:{height:"show"},animationOut:{height:"hide"}}),e(".site-header").headroom({tolerance:{up:0,down:0},offset:70}),e(".side-nav .navbar-nav li.menu-item-has-children > a .svg-icon").on("click",function(n){n.preventDefault();const s=e(this).closest("li"),o=s.find("> ul");o.is(":visible")?(o.slideUp(),s.removeClass("open")):(o.slideDown(),s.addClass("open"))})})}(jQuery);